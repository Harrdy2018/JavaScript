# 基础ajax
***
### 基本的get和post请求
```php
//get1.php
<?php
echo "this is get request from the client !!!";
echo "I love you very much,you know";
?>

//get2.php
<?php
echo "this is get request from the client !!!";
echo "your name is".$_GET["name"];
echo "your age is".$_GET["age"];
?>

//post1.php
<?php
echo "this is post request from the client !!!";
?>
```
***
```html
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>ajax 总结</title>
</head>
<body>
<button onclick="getRequest()">get方式发送请求</button><br>
<button onclick="postRequest()">post方式发送请求</button>
<div id="div1"></div>
</body>
</html>
<script>
    //下面是分析get请求
    let getRequest=function () {
        //第一步 创建 XMLHttpRequest对象
        let xmlhttp;
        if (window.XMLHttpRequest){
             // IE7+ Firefox Chrome Opera Safari
            xmlhttp=new XMLHttpRequest();
        }
        else{
            // IE6 IE5
            xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
        }
        //第二步 向服务器发送请求 异步的
        //xmlhttp.open("get","./get1.php",true);
        //xmlhttp.open("get","./get1.php?="+Math.random(),true);  //为了避免浏览器缓存
        xmlhttp.open("get","get2.php?name=lukang&age=18",true);   //提交表单查询
        xmlhttp.send();
        //第三步
        xmlhttp.onreadystatechange=function () {
            if(xmlhttp.readyState==4 && xmlhttp.status==200){
                document.getElementById("div1").innerHTML=xmlhttp.responseText;
            }
        }
    };

    //下面是分析post请求
    let postRequest=function () {
        //第一步 创建XMLHttpRequest对象
        let xmlhttp;
        window.XMLHttpRequest ? xmlhttp=new XMLHttpRequest() : xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
        //第二步 向服务器发送异步post请求
        xmlhttp.open("post","./post1.php",true);
        xmlhttp.send();
        //第三步
        xmlhttp.onreadystatechange=function () {
            if(xmlhttp.readyState==4 && xmlhttp.status==200){
                document.getElementById("div1").innerHTML=xmlhttp.responseText;
            }
        };
    };
</script>
```
***
### 异步的get方式提交表单
```php
//post.php
<?php
echo "this is post request from the client !!!";
echo "your name is".$_POST["name"];
echo "your age is".$_POST["age"];
?>
```
```html
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>ajax 总结</title>
</head>
<body>
<button onclick="allRequest()">post方式发送请求</button>
<div id="div1"></div>
</body>
</html>
<script>
    //下面是分析post 提交表单请求
    let allRequest=function () {
        //第一步 创建XMLHttpRequest对象
        let xmlhttp;
        window.XMLHttpRequest ? xmlhttp=new XMLHttpRequest() : xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
        //第二步 向服务器发送异步post请求
        xmlhttp.open("post","./post.php",true);
        xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
        xmlhttp.send("name=lukang&age=18");
        //第三步
        xmlhttp.onreadystatechange=function () {
            if(xmlhttp.readyState==4 && xmlhttp.status==200){
                document.getElementById("div1").innerHTML=xmlhttp.responseText;
            }
        };
    };
</script>
```
